{"ast":null,"code":"var _jsxFileName = \"/Users/quincyhicks/Desktop/plant-app/plant-app/plant-app-client/src/components/MainContainer.jsx\";\nimport React, { Component } from 'react';\nimport PlantList from \"./PlantList/PlantList\";\nimport PlantNav from \"./nav\";\n\nclass MainContainer extends Component {\n  constructor() {\n    super();\n\n    this.deletePlant = async id => {\n      console.log(id);\n\n      try {\n        const deletePlant = await fetch(\"http://localhost:9000/plants/\".concat(id), {\n          method: \"DELETE\" // credentials: \"include\",\n\n        });\n        const parsedResponse = await deletePlant.json();\n\n        if (parsedResponse.status.code === 200) {\n          this.setState({\n            plants: this.state.plants.filter(plant => plant._id !== id)\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.createPlant = async formData => {\n      console.log(formData);\n\n      try {\n        const newPlant = await fetch(\"http://localhost:9000/plants\", {\n          method: \"POST\",\n          body: JSON.stringify(formData),\n          // credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const parsedResponse = await newPlant.json();\n\n        if (parsedResponse.status.code === 201) {\n          this.setState({\n            plants: [...this.state.plants, parsedResponse.data]\n          });\n        }\n\n        console.log(\"********************\");\n        console.log(this.state);\n      } catch (err) {}\n    };\n\n    this.getMovies = async () => {\n      try {\n        console.log(\"Getting the movies*****************\");\n        const plants = await fetch(\"http://localhost:9000/plants\");\n        const parsedResponse = await plants.json();\n\n        if (parsedResponse.status.code === 200) {\n          this.setState({\n            plants: parsedResponse.data\n          });\n          console.log(parsedResponse.data);\n          console.log(\"We got the movies\");\n          console.log(this.state);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      plants: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"component is mounting\");\n    this.getMovies();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(PlantNav, {\n      createPlant: this.createPlant,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Here is the Movie Container\"), React.createElement(PlantList, {\n      deletePlant: this.deletePlant,\n      plants: this.state.plants,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MainContainer;","map":{"version":3,"sources":["/Users/quincyhicks/Desktop/plant-app/plant-app/plant-app-client/src/components/MainContainer.jsx"],"names":["React","Component","PlantList","PlantNav","MainContainer","constructor","deletePlant","id","console","log","fetch","method","parsedResponse","json","status","code","setState","plants","state","filter","plant","_id","err","createPlant","formData","newPlant","body","JSON","stringify","headers","data","getMovies","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component} from 'react'\nimport PlantList from \"./PlantList/PlantList\"\nimport PlantNav from \"./nav\"\n\n\n\n\nclass MainContainer extends Component {\n    constructor() {\n        super();\n        this.state = {\n            plants: []\n        }\n    }\n\n    componentDidMount() {\n        console.log(\"component is mounting\")\n        this.getMovies();\n    }\n    deletePlant = async (id) => {\n        console.log(id)\n        try{\n            const deletePlant = await fetch(`http://localhost:9000/plants/${id}`, {\n                method: \"DELETE\",\n                // credentials: \"include\",\n            })\n            const parsedResponse = await deletePlant.json();\n            if(parsedResponse.status.code === 200) {\n                this.setState({\n                    plants: this.state.plants.filter(plant => plant._id !== id)\n                    \n                })\n            }\n        }catch(err){\n            console.log(err)\n        }\n    }\n    // updateMovie = async (id, formData) => {\n    //     const updatedMovie = await fetch(`http://localhost:9000/api/v1/movies/${id}`, {\n    //         method: \"PUT\",\n    //         body: JSON.stringify(formData),\n    //         credentials: \"include\",\n    //         headers: {\n    //             \"Content-Type\": \"application/json\"\n    //         }\n    //     })\n    //     const parsedResponse = await updatedMovie.json();\n    //     if(parsedResponse.status.code === 201){\n    //         this.setState({\n    //             movies: this.state.movies.map(function(movie){\n    //                 if(movie._id === id){\n    //                     return parsedResponse.data\n    //                 }else{\n    //                     return movie\n    //                 }\n    //             })\n    //         })\n    //     }\n    //     console.log(parsedResponse)\n    // }\n    createPlant = async (formData) => {\n        console.log(formData)\n        try{\n            const newPlant = await fetch(\"http://localhost:9000/plants\", {\n                method: \"POST\",\n                body: JSON.stringify(formData),\n                // credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \n                }\n            })\n            const parsedResponse = await newPlant.json();\n            if(parsedResponse.status.code === 201){\n                this.setState({\n                    plants: [...this.state.plants, parsedResponse.data]\n                })\n            }\n            console.log(\"********************\")\n            console.log(this.state)\n        }catch(err) {\n\n        }\n    }\n\n    getMovies = async () => {\n        try{\n            console.log(\"Getting the movies*****************\")\n        const plants = await fetch(\"http://localhost:9000/plants\")\n        const parsedResponse = await plants.json();\n        if(parsedResponse.status.code === 200){\n            this.setState({\n                plants: parsedResponse.data})\n                console.log(parsedResponse.data)\n                console.log(\"We got the movies\")\n                console.log(this.state)\n            }\n        }catch(err){\n            console.log(err)\n        }\n    }\n    render() {\n        return(\n            <div>\n                <PlantNav createPlant= {this.createPlant} />\n                <h3>Here is the Movie Container</h3>\n                <PlantList deletePlant={this.deletePlant} plants={this.state.plants} />\n            </div>\n        )\n    }\n}\n\nexport default MainContainer;"]},"metadata":{},"sourceType":"module"}